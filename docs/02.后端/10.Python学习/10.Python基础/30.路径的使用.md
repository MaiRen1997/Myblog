---
title: 路径的使用
date: 2026-01-16 15:50:16
permalink: /pages/847030/
categories:
  - 后端
  - Python学习
  - Python基础
tags:
  - 
author: 
  name: Riverside Joy
  link: https://github.com/MaiRen1997
---
## 路径操作

| 操作目的                   | `os.path` 方法 (传统)              | `pathlib.Path` 方法 (现代推荐)                  | 说明                        |
| :------------------------- | :--------------------------------- | :---------------------------------------------- | :-------------------------- |
| **路径拼接**               | `os.path.join('dir', 'file.txt')`  | `Path('dir') / 'file.txt'`                      | 用 `/` 运算符拼接更直观     |
| **获取当前文件路径**       | `__file__`                         | `Path(__file__)`                                | `__file__` 是内置变量       |
| **获取父目录**             | `os.path.dirname(path)`            | `Path(path).parent`                             | `path.parent` 可链式调用    |
| **获取文件名**             | `os.path.basename(path)`           | `Path(path).name`                               | 含扩展名                    |
| **获取文件名（无扩展名）** | `os.path.splitext(path)[0]`        | `Path(path).stem`                               | 不包含 `.ext`               |
| **获取扩展名**             | `os.path.splitext(path)[1]`        | `Path(path).suffix`                             | 包含点，如 `.txt`           |
| **获取绝对路径**           | `os.path.abspath(path)`            | `Path(path).resolve()`                          | 解析符号链接                |
| **检查路径是否存在**       | `os.path.exists(path)`             | `Path(path).exists()`                           | 文件或目录是否存在          |
| **检查是否为文件**         | `os.path.isfile(path)`             | `Path(path).is_file()`                          | -                           |
| **检查是否为目录**         | `os.path.isdir(path)`              | `Path(path).is_dir()`                           | -                           |
| **创建目录**               | `os.makedirs(path, exist_ok=True)` | `Path(path).mkdir(parents=True, exist_ok=True)` | 创建多级目录                |
| **遍历目录**               | `os.listdir(path)`                 | `[p.name for p in Path(path).iterdir()]`        | `Path.iterdir()` 返回生成器 |
| **路径标准化**             | `os.path.normpath(path)`           | `Path(path)` (构造时自动处理)                   | 处理 `../`、`./` 等         |
|                            |                                    |                                                 |                             |

## 示例代码

### path.insert

1. sys.path是一个list， insert的第一个参数，表示的是插入位置，
2. 如果是0，说明需要将这个路径放在列表的第一个
3. python解释器，会按照列表依次寻找

```python
from pathlib import Path
import sys

# 将项目根目录添加到 Python 路径
project_root = Path(__file__).parent.parent
sys.path.insert(0, str(project_root))

# 现在可以正常导入
from src import DeepSearchAgent, Config
```







