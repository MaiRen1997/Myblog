---
title: 集合Set
date: 2024-02-20 10:29:01
permalink: /pages/7201b9/
author:
  name: Riverside Joy
  link: https://github.com/MaiRen1997
categories:
  - 后端
  - Python基础
tags:
  - 
---
## 概述

1. 集合是**无序的**，**不重复的**数据集合，它里面的元素是可哈希的(不可变类型)，
2. 但是集合本身是不可哈希（所以集合做不了字典的键）的。
3. 以下是集合最重要的两点：
   1. 去重，把一个列表变成集合，就自动去重了。

   2. 关系测试，测试两组数据之前的交集、差集、并集等关系

## 集合操作

### 创建

```python
set1 = set({1,2,'barry'})
set2 = {1,2,'barry'}
print(set1,set2)  # {1, 2, 'barry'} {1, 2, 'barry'}
```

### 增

#### add

1. 说明

   1. 向集合中添加**单个元素**
   2. **参数是单个元素**（可以是任何可哈希的数据类型）
   3. 如果元素**已存在，则不会重复添加**

2. ```python
   set1 = {'alex','wusir','ritian','egon','barry'}
   set1.add('景女神')
   print(set1)
   ```

#### update

1. 说明
   1. 向集合中添加**多个元素**
   2. **参数是可迭代对象**（列表、元组、字符串、集合、字典等）
   3. **将可迭代对象中的每个元素添加到集合中**

```python
set1 = {'alex','wusir','ritian','egon','barry'}
#update：迭代着增加
set1.update('A')
print(set1)
set1.update('老师')
print(set1)
set1.update([1,2,3])
print(set1)
```

### 删

1. remove

   - ```python
     set1 = {'alex','wusir','ritian','egon','barry'}
     
     set1.remove('alex')  # 删除一个元素
     print(set1)
     ```

2. pop

   - ```python
     set1.pop()  # 随机删除一个元素
     print(set1)
     ```

3. clear

   - ```python
     set1.clear()  # 清空集合
     print(set1)
     ```

4. del

   - ```python
     del set1  # 删除集合
     print(set1)
     ```

## 其他操作

### 交集

1. & 或者 intersection

2. ```python
   set1 = {1,2,3,4,5}
   set2 = {4,5,6,7,8}
   print(set1 & set2)  # {4, 5}
   print(set1.intersection(set2))  # {4, 5}
   ```

### 并集

1. | 或者 union

2. ```python
   set1 = {1,2,3,4,5}
   set2 = {4,5,6,7,8}
   print(set1 | set2)  # {1, 2, 3, 4, 5, 6, 7,8}
   
   print(set2.union(set1))  # {1, 2, 3, 4, 5, 6, 7,8}
   ```

### 差集

1. \- 或者 difference

2. ```python
   set1 = {1,2,3,4,5}
   set2 = {4,5,6,7,8}
   print(set1 - set2)  # {1, 2, 3}
   print(set1.difference(set2))  # {1, 2, 3}
   ```

### 反交集

1. ^ 或者 symmetric_difference

2. ```python
   set1 = {1,2,3,4,5}
   set2 = {4,5,6,7,8}
   print(set1 ^ set2)  # {1, 2, 3, 6, 7, 8}
   print(set1.symmetric_difference(set2))  # {1, 2, 3, 6, 7, 8}
   ```

### 子集与超集

#### 子集

1. 使用< 和issubset

2. ```python
   set1 = {1,2,3}
   set2 = {1,2,3,4,5,6}
   
   print(set1 < set2)
   print(set1.issubset(set2))  # 这两个相同，都是说明set1是set2子集。
   ```

#### 超集

1. 使用> 和issuperset

2. ```python
   set1 = {1,2,3}
   set2 = {1,2,3,4,5,6}
   
   print(set2 > set1)
   print(set2.issuperset(set1))  # 这两个相同，都是说明set2是set1超集。
   ```

### frozenset不可变集合，让集合变成不可变类型。

```python
s = frozenset('barry')
print(s,type(s))  # frozenset({'a', 'y', 'b', 'r'}) <class 'frozenset'>
```











