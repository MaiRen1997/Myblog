---
title: 浮点型-(基本)数据类型
date: 2025-12-15 09:53:21
permalink: /pages/c3cc49/
categories:
  - golang
  - Golang基础
tags:
  - 
author: 
  name: Riverside Joy
  link: https://github.com/MaiRen1997
---
## 分类

1. Go语言支持两种浮点型数：float32和float64。这两种浮点型数据格式遵循IEEE754标准：

   1. float32的浮点数的最大范围约为3.4e38，可以使用常量定义：math.MaxFloat32。
   2. float64的浮点数的最大范围约为1.8e308，可以使用一个常量定义：math.MaxFloat64


## 定义

1. float32

   1. ```go
       var f32 float32 = 3.1415926535  // 精度约6-7位小数
      ```

2. float64(默认的浮点类型)

   1. ```go
      // 定义 float64（默认的浮点类型）
          var f64 float64 = 3.141592653589793  // 精度约15位小数
      ```

## 强制类型转换

1. 使用关键字float32 或者float64进行强类型转换

2. float64 转 float32（可能丢失精度）

3. ```go
   // float64 转 float32（可能丢失精度）
   var f64 float64 = 3.141592653589793
   var f32 float32 = float32(f64)
   
   var small float32 = 1.234567
   var large float64 = float64(small)
   
   ```

## 打印浮点数

1. 打印浮点数时，可以使用fmt包配合动词%f，

2. 需要保留几位小数，就在%和f中间加，.nf, 如：`%.2f`, `%.7f`，表示保留2位小数，保留7位小数

3. ```go
   // 打印浮点类型，打印小数点后2位
   fmt.Printf("%.2f\n", pi)
   ```

## Golang中精度丢失的问题

1. 几乎所有的编程语言都有精度丢失的问题，这是典型的二进制浮点数精度损失问题，在定长条件下，二进制小数和十进制小数互转可能有精度丢失

   ```go
   d := 1129.6
   fmt.Println(d*100) //输出112959.99999999
   ```

2. 解决方法，使用第三方包来解决精度损失的问题

   http://github.com/shopspring/decimal
