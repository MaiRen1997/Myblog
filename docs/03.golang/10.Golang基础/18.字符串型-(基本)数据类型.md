---
title: 字符串型-(基本)数据类型
date: 2025-12-15 09:53:46
permalink: /pages/25119c/
categories:
  - golang
  - Golang基础
tags:
  - 
author: 
  name: Riverside Joy
  link: https://github.com/MaiRen1997
---
## 字符串类型

### 定义

#### 概述

1. Go 语言中的字符串以原生数据类型出现，使用字符串就像使用其他原生数据类型（int、bool、float32、float64等）一样。

2. Go语言里的字符串的内部实现使用UTF-8编码。

3. 字符串的值为双引号（"）中的内容，可以在Go语言的源码中直接添加非ASCll码字符

#### 定义单行

```go
s1 := "hello"
s1 := "你好"
```

#### 定义多行

1. 如果想要定义多行字符串，可以使用反引号

2. ```go
   	var str = `第一行
   第二行`
   	fmt.Println(str)
   ```

### 字符串常见操作

#### len(str)：求长度

1. ```go
   s := "hello"
   length := len(s) // length = 5
   ```

#### +或fmt.Sprintf：拼接字符串

1. ```go
   s1 := "hello"
   s2 := "world"
   s3 := s1 + " " + s2 // s3 = "hello world"
   ```

2. ```go
   result := fmt.Sprintf("Hello, %s", "world")
   fmt.Println(result) // 输出: Hello, world
   ```

3. `fmt.Sprintf` 支持多种格式化选项

   1. `%d`：十进制整数
   2. `%x` 或 `%o`：十六进制或八进制数
   3. `%t`：布尔值
   4. `%f`：浮点数
   5. `%.2f`：浮点数，保留两位小数
   6. `%s`：字符串
   7. `%v`：根据值的默认格式表示

#### []:获取子串

1. ```go
   s := "Hello, World"
   sub := s[7:12] // sub = "World"
   ```

#### strings.Index()，strings.LastIndex()：子串出现的位置

1. ```go
   import "strings"
   
   s := "Hello, World"
   pos := strings.Index(s, "World") // pos = 7
   ```

#### replace替换子串

```go
import "strings"

s := "Hello, World"
replaced := strings.Replace(s, "World", "Gophers", 1) // replaced = "Hello, Gophers" (只替换第一个匹配项)
```

#### strings.Split：分割

```go
import "strings"

s := "a,b,c,d,e"
parts := strings.Split(s, ",") // parts = ["a", "b", "c", "d", "e"]
```

#### 大小写替换

1. ```go
   import "strings"
   
   s := "Hello, World"
   upper := strings.ToUpper(s) // upper = "HELLO, WORLD"
   lower := strings.ToLower(s) // lower = "hello, world"
   ```

### 去除字符串空格

1. ```go
   import "strings"
   
   s := "  Hello, World  "
   trimmed := strings.TrimSpace(s) // trimmed = "Hello, World" (去除前后空格)
   ```

#### 去掉左、右指定字符

1. ```go
   package main
   
   import (
       "fmt"
       "strings"
   )
   
   func main() {
       s3 := "@@@golang@@@"
       // 将字符左边指定的字符去掉
       s4 := strings.TrimLeft(s3,"@")
       // 将字符右边指定的字符去掉
       s5 := strings.TrimRight(s3,"@")
   
       fmt.Printf("s3 = [%s],s4 = [%s],s5 = [%s]\n", s3,s4,s5)
   
   }
   ```

#### strings.contains：判断是否包含

1. 返回结果是布尔类型

2. ```go
   package main
   
   import (
   	"fmt"
   	"strings"
   )
   
   func main() {
   	// 基础用法
   	str := "Hello, 世界!"
   	subStr := "世界"
   	contains := strings.Contains(str, subStr)
   	fmt.Printf("'%s'包含'%s'吗？ %t\n", str, subStr, contains)
   
   	// 空字符串处理
   	fmt.Printf("空字符串检查: %t\n", strings.Contains(str, ""))
   }
   //'Hello, 世界!'包含'世界'吗？ true
   //空字符串检查: true
   ```

#### strings.HasPrefix，strings.HasSuffix：前缀/后缀判断

1. 返回类型为布尔类型

2. ```go
   package main
   
   import (
       "fmt"
       "strings"
   )
   
   func main() {
       str := "hello world"
       if strings.HasPrefix(str, "hello") {
           fmt.Println("The string starts with 'hello'")
       } else {
           fmt.Println("The string does not start with 'hello'")
       }
   }
   ```

#### strings.Join()：join操作

1. ```go
   fmt.Println(strings.Join([]string{"Hello", "World"}, ","))
       // Hello,World
   ```

### 额外实用操作

#### 修改字符串

1. **想要修改字符串，则需要将字符串转换为切片类型进行修改**

2. ```go
   package main
   
   import (
       "fmt"
   )
   
   func main() {
       s1 := "白萝卜"
   
       // 想要修改字符串，则需要将字符串转换为切片类型进行修改。
       s2 := []rune(s1)
       fmt.Println("修改前 --->: ", string(s2))
       s2[0] = '红'
       fmt.Println("修改后 --->: ", string(s2))
   
       // 实际上，s1这个变量压根就没有动过
       fmt.Println("s1 = ", s1)
   }
   ```

#### 遍历字符串

1. **利用for-range循环**

   ```go
   package main
   
   import (
       "fmt"
   )
   func main() {
   s1 := "abcdefg"
       // 遍历字符串方式一: 利用for-range循环
       for index, value := range s1 {
           fmt.Printf("索引为: %d, 数据为: %c\n", index, value)
       }
   }
   ```

2. **字节切片"[]rune(string)"**

   1. 通过len遍历

      ```go
      s1 := "abcdefg"
      data := []rune(s1)
      for index := 0; index < len(data); index++ {
          fmt.Printf("索引为: %d, 数据为: %c\n", index, data[index])
      }
      ```

   2. 通过range遍历

      ```go
      s1 := "abcdefg"
      data := []rune(s1)
      for index, value := range s {
          fmt.Printf("%d,的结果是 %c\n", index, value)
      }
      ```

3. 通过len直接遍历字符串

   ```go
   s1 := "abcdefg"
   for index := 0; index < len(s1); index++ {
       fmt.Printf("索引为: %d, 数据为: %c\n", index,s1[index])
   }
   ```

#### 字符串和整数相互转换

1. ```go
   package main
   
   import (
       "fmt"
       "strconv"
   )
   
   func main() {
   
       var (
           a string = "2030"
           b int    = 2020
       )
   
       // 将字符串转换为一个整数
       x, _ := strconv.Atoi(a)
   
       fmt.Printf("x的类型是: %T, x的值为: %d\n", x, x)
   
       // 整数转换为字符串
   
       y := strconv.Itoa(b)
   
       fmt.Printf("y的类型是: %T, y的值为: %s\n", y, y)
   
   }
   ```

#### 统计一个字符串有几个指定的子串

1. ```go
   package main
   
   import (
       "fmt"
       "strings"
   )
   
   func main() {
   
       source := "Google FaceBook"
       subStr := "oo"
   
       // 统计一个字符串有几个指定的子串
       count := strings.Count(source, subStr)
   
       fmt.Printf("[%s]中出现[%s]的次数是: %d\n", source, subStr, count)
   }
   ```

#### 字符串比较

1. ```go
   package main
   
   import (
       "fmt"
       "strings"
   )
   
   func main() {
   
       password := "HELLO"
   
       input := "hello"
   
       // 忽略大小写的字符串比较
       flag := strings.EqualFold(password, input)
   
       // 区分大小写比较
       flag2 := password == input
   
       fmt.Printf("忽略大小写比较: %s = %s ---> [%t]\n", password, input, flag)
   
       fmt.Printf("区分大小写比较: %s == %s ---> [%t]\n", password, input, flag2)
   
   }
   ```
