---
title: Go的流程控制
date: 2025-06-13 11:19:20
permalink: /pages/d22a8a/
categories:
  - golang
  - Golang基础
tags:
  - 
author: 
  name: Riverside Joy
  link: https://github.com/MaiRen1997
---
# Go的流程控制

## 概述

1. 流程控制是每种编程语言控制逻辑走向和执行次序的重要部分，流程控制可以说是一门语言的“经脉"

2. Go 语言中最常用的流程控制有if和for，而switch和goto主要是为了简化代码、降低重复代码而生的结构，属于扩展类的流程控制。

## if else

1. **推荐if后面不使用括号，当然也可以使用括号括起来**

   ```go
   func main() {
   	var num = 10
   	if num == 10 {
   		fmt.Println("hello == 10")
   	} else if(num > 10) {
   		fmt.Println("hello > 10")
   	} else {
   		fmt.Println("hello < 10")
   	}
   }
   ```

2. if的另外一种写法，下面的方法的区别是 num2是局部变量

   ```go
   if num2:= 10; num2>=10 {
       fmt.Println("hello >=10")
   }
   ```

## for 循环结构

### 概述

1. Go语言中的所有循环类型均可使用for关键字来完成，

2. **for表达式不用加括号**

3. 条件表达式返回true时循环体不停地进行循环，直到条件表达式返回false时自动退出循环

4. for循环的基本格式如下：

   ```go
   for 初始语句; 条件表达式; 结束语句 {
   	循环体
   }
   ```

### 示例

1. 实例：打印1 ~ 10

   ```go
   for i := 0; i < 10; i++ {
       fmt.Printf("%v ", i+1)
   }
   ```

### for 代替while语句

1. 注意，在Go语言中，没有while语句，我们可以通过for来代替

   ```go
   for {
       循环体
   }
   ```

### 终止循环

1. for循环可以通过**break、goto、return、panic**语句退出循环
2. break 语句用于终止某个语句块的执行，用于中断当前 for 循环或跳出 switch 语句
3. continue 语句用于结束本次循环，继续执行下一次循环。
4. goto 语句可以无条件地转移到程序中指定的行(一般不主张使用 goto 语句， 以免造成程序流程的混乱)
5. return 使用在方法或者函数中，表示跳出所在的方法或函数，在讲解函数的时候，会详细的介绍
6. panic用于抛出错误，使程序终止，类似于throw new Error

## for range（键值循环）

### 概述

1. Go 语言中可以使用for range遍历数组、切片、字符串、map及通道（channel）。通过for range遍历的返回值有以下规律：

   - 数组、切片、字符串返回索引和值。

   - map返回键和值。

   - 通道（channel）只返回通道内的值。


### 实例：

1. 遍历字符串

   ```go
   var str = "你好golang"
   for key, value := range str {
       fmt.Printf("%v - %c ", key, value)
   }
   ```

2. 遍历切片（数组）

   ```go
   var array = []string{"php", "java", "node", "golang"}
   for index, value := range array {
       fmt.Printf("%v %s ", index, value)
   }
   ```

## switch case

### 概述

1. 使用switch语句可方便的对大量的值进行条件判断

   ```go
   extname := ".a"
   switch extname {
   	case ".html": {
   		fmt.Println(".html")
   		break
   	}
   	case ".doc": {
   		fmt.Println(".doc")
   		break
   	}
   	case ".js": {
   		fmt.Println(".js")
   	}
   	default: {
   		fmt.Println("其它后缀")
   	}
   }
   ```

2. switch的另外一种写法

   ```go
   switch extname := ".a"; extname {
   	case ".html": {
   		fmt.Println(".html")
   		break
   	}
   	case ".doc": {
   		fmt.Println(".doc")
   		break
   	}
   	case ".js": {
   		fmt.Println(".js")
   	}
   	default: {
   		fmt.Println("其它后缀")
   	}
   }
   ```

3. 同时一个分支可以有多个值

   ```go
   extname := ".txt"
   switch extname {
   	case ".html": {
   		fmt.Println(".html")
   		break
   	}
   	case ".txt",".doc": {
   		fmt.Println("传递来的是文档")
   		break
   	}
   	case ".js": {
   		fmt.Println(".js")
   	}
   	default: {
   		fmt.Println("其它后缀")
   	}
   }
   ```

### 注意

在golang中，break可以不写，也能够跳出case，而不会执行其它的。

### fallthrought的使用

1. 如果我们需要使用switch的穿透 fallthrought，fallthrough语法可以执行满足条件的 case 的下一个case，为了兼容c语言中的case设计 

2. fallthrought **只能穿透紧挨着的一层，不会一直穿透**，但是如果每一层都写的话，就会导致每一层都进行穿透

3. ```go
   extname := ".txt"
   switch extname {
   	case ".html": {
   		fmt.Println(".html")
   		fallthrought
   	}
   	case ".txt",".doc": {
   		fmt.Println("传递来的是文档")
   		fallthrought
   	}
   	case ".js": {
   		fmt.Println(".js")
   		fallthrought
   	}
   	default: {
   		fmt.Println("其它后缀")
   	}
   }
   ```

## break：跳出循环

1. Go语言中break 语句用于以下几个方面：

   - 用于循环语句中跳出循环，并开始执行循环之后的语句。

   - break在switch（开关语句）中在执行一条case后跳出语句的作用。

   - 在多重循环中，可以用标号label标出想break的循环。

2. ```go
   var i = 0
   for  {
       if i == 10{
           fmt.Println("跳出循环")
           break
       }
       i++
       fmt.Println(i)
   }
   ```

## go：跳转到指定标签

1. goto 语句通过标签进行代码间的无条件跳转。

2. goto 语句可以在快速跳出循环、避免重复退出上有一定的帮助。

3. Go语言中使用goto语句能简化一些代码的实现过程。

4. ```go
   var n = 20
   if n > 24 {
       fmt.Println("成年人")
   } else {
       goto lable3
   }
   
   fmt.Println("aaa")
   fmt.Println("bbb")
   lable3:
   fmt.Println("ccc")
   fmt.Println("ddd")
   ```

