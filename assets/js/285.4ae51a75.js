(window.webpackJsonp=window.webpackJsonp||[]).push([[285],{868:function(t,e,a){"use strict";a.r(e);var s=a(7),l=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"路径操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路径操作"}},[t._v("#")]),t._v(" 路径操作")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("操作目的")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path")]),t._v(" 方法 (传统)")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("code",[t._v("pathlib.Path")]),t._v(" 方法 (现代推荐)")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("路径拼接")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.join('dir', 'file.txt')")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path('dir') / 'file.txt'")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用 "),e("code",[t._v("/")]),t._v(" 运算符拼接更直观")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("获取当前文件路径")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("__file__")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(__file__)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("__file__")]),t._v(" 是内置变量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("获取父目录")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.dirname(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).parent")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("path.parent")]),t._v(" 可链式调用")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("获取文件名")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.basename(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).name")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("含扩展名")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("获取文件名（无扩展名）")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.splitext(path)[0]")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).stem")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("不包含 "),e("code",[t._v(".ext")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("获取扩展名")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.splitext(path)[1]")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).suffix")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("包含点，如 "),e("code",[t._v(".txt")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("获取绝对路径")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.abspath(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).resolve()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("解析符号链接")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("检查路径是否存在")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.exists(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).exists()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("文件或目录是否存在")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("检查是否为文件")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.isfile(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).is_file()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("检查是否为目录")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.isdir(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).is_dir()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("创建目录")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.makedirs(path, exist_ok=True)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path).mkdir(parents=True, exist_ok=True)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("创建多级目录")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("遍历目录")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.listdir(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("[p.name for p in Path(path).iterdir()]")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path.iterdir()")]),t._v(" 返回生成器")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("路径标准化")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("os.path.normpath(path)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("Path(path)")]),t._v(" (构造时自动处理)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("处理 "),e("code",[t._v("../")]),t._v("、"),e("code",[t._v("./")]),t._v(" 等")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),e("h2",{attrs:{id:"示例代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例代码"}},[t._v("#")]),t._v(" 示例代码")]),t._v(" "),e("h3",{attrs:{id:"path-insert"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#path-insert"}},[t._v("#")]),t._v(" path.insert")]),t._v(" "),e("ol",[e("li",[t._v("sys.path是一个list， insert的第一个参数，表示的是插入位置，")]),t._v(" "),e("li",[t._v("如果是0，说明需要将这个路径放在列表的第一个")]),t._v(" "),e("li",[t._v("python解释器，会按照列表依次寻找")])]),t._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pathlib "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sys\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将项目根目录添加到 Python 路径")]),t._v("\nproject_root "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__file__"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent\nsys"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("insert"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("project_root"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 现在可以正常导入")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" src "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" DeepSearchAgent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Config\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])])])}),[],!1,null,null,null);e.default=l.exports}}]);