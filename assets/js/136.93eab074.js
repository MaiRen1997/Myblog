(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{569:function(s,a,t){"use strict";t.r(a);var n=t(7),r=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"用fastapi开发网络数据接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用fastapi开发网络数据接口"}},[s._v("#")]),s._v(" 用FastAPI开发网络数据接口")]),s._v(" "),a("p",[s._v("FastAPI 是一个用于构建API（网络数据接口）的现代、高性能的Web框架，基于Python 3.6+，使用了Python中的类型提示进行类型检查，非常符合工程化开发的需求，在业界有非常好的口碑。下面，我们先用代码告诉大家FastAPI到底能做什么，然后再来讲解它的方方面面。")]),s._v(" "),a("h3",{attrs:{id:"fastapi五分钟上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fastapi五分钟上手"}},[s._v("#")]),s._v(" FastAPI五分钟上手")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("安装依赖库和ASGI服务器（支持异步I/O的Python服务器）。")]),s._v(" "),a("div",{staticClass:"language-Bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" fastapi\npip "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" uvicorn\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("编写代码"),a("code",[s._v("main.py")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-Python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" fastapi "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" FastAPI\n\napp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" FastAPI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("say_hello")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'code'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello, world!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("运行服务。")]),s._v(" "),a("div",{staticClass:"language-Bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("uvicorn main:app "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[a("strong",[s._v("说明")]),s._v("：上面运行uvicorn时使用的"),a("code",[s._v("--reload")]),s._v("参数会在代码发生变更时自动重新加载新的内容，这个参数在开发阶段非常的有用。")])])]),s._v(" "),a("li",[a("p",[s._v("访问服务。")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"res/run-first-demo.png",alt:""}})]),s._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[a("p",[s._v("查看文档。")]),s._v(" "),a("p",[a("img",{attrs:{src:"res/first-demo-docs.png",alt:""}})]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("注意")]),s._v("：FastAPI会基于"),a("a",{attrs:{href:"https://swagger.io/tools/swagger-ui/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Swagger UI"),a("OutboundLink")],1),s._v("自动为数据接口生成对应的文档。")])])])]),s._v(" "),a("h3",{attrs:{id:"请求和响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求和响应"}},[s._v("#")]),s._v(" 请求和响应")]),s._v(" "),a("h3",{attrs:{id:"接入关系型数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接入关系型数据库"}},[s._v("#")]),s._v(" 接入关系型数据库")]),s._v(" "),a("p",[s._v("我们可以使用SQLAlchemy三方库来实现对关系型数据库的接入。SQLAlchemy是一个ORM（对象关系映射）框架，ORM框架可以解决Python程序的面向对象模型和关系型数据库的关系模型并不匹配的问题，使得我们可以用面向对象的方式实现数据的CRUD操作。")]),s._v(" "),a("h3",{attrs:{id:"依赖注入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#依赖注入"}},[s._v("#")]),s._v(" 依赖注入")]),s._v(" "),a("h3",{attrs:{id:"中间件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中间件"}},[s._v("#")]),s._v(" 中间件")]),s._v(" "),a("h3",{attrs:{id:"异步化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步化"}},[s._v("#")]),s._v(" 异步化")]),s._v(" "),a("h3",{attrs:{id:"虚拟化部署-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#虚拟化部署-docker"}},[s._v("#")]),s._v(" 虚拟化部署（Docker）")]),s._v(" "),a("h3",{attrs:{id:"项目实战-车辆违章查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目实战-车辆违章查询"}},[s._v("#")]),s._v(" 项目实战：车辆违章查询")])])}),[],!1,null,null,null);a.default=r.exports}}]);