(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1059:function(a,t,s){"use strict";s.r(t);var e=s(7),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"prometheus和grafana介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prometheus和grafana介绍"}},[a._v("#")]),a._v(" Prometheus和Grafana介绍")]),a._v(" "),t("h2",{attrs:{id:"系统监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统监控"}},[a._v("#")]),a._v(" 系统监控")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.liwenzhou.com/posts/Go/go_gopsutil/",target:"_blank",rel:"noopener noreferrer"}},[a._v("gopsutil"),t("OutboundLink")],1),a._v("：做系统监控信息的采集，写入influxDb，使用grafana作展示")]),a._v(" "),t("p",[a._v("prometheus：采集性能指标数据，使用grafana作展示")]),a._v(" "),t("h2",{attrs:{id:"prometheus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prometheus"}},[a._v("#")]),a._v(" Prometheus")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/prometheus/prometheus",target:"_blank",rel:"noopener noreferrer"}},[a._v("普罗米修斯"),t("OutboundLink")],1),a._v("：专用于服务监控，主动去拉取数据")]),a._v(" "),t("p",[t("img",{attrs:{src:s(607),alt:"image-20200913185216706"}})]),a._v(" "),t("ul",[t("li",[a._v("Jobs/Exporters：任务，监控项")]),a._v(" "),t("li",[a._v("Serveice Discovery：服务发现")]),a._v(" "),t("li",[a._v("Short-lived jobs：短期存活的任务")])]),a._v(" "),t("h3",{attrs:{id:"下载普罗米修斯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载普罗米修斯"}},[a._v("#")]),a._v(" 下载普罗米修斯")]),a._v(" "),t("p",[a._v("去Github的"),t("a",{attrs:{href:"https://github.com/prometheus/prometheus/releases/tag/v2.21.0",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网"),t("OutboundLink")],1),a._v("下载")]),a._v(" "),t("p",[t("img",{attrs:{src:s(608),alt:"image-20200913190154123"}})]),a._v(" "),t("p",[a._v("下载完成后解压即可")]),a._v(" "),t("p",[t("img",{attrs:{src:s(609),alt:"image-20200913190213569"}})]),a._v(" "),t("p",[a._v("双击 prometheus.exe启动，然后访问下面的地址")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("http://localhost:9090/graph\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("进入到prometheus的图形化页面")]),a._v(" "),t("p",[t("img",{attrs:{src:s(610),alt:"image-20200913190307310"}})]),a._v(" "),t("h3",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),t("p",[t("img",{attrs:{src:s(611),alt:"image-20200913190408222"}})]),a._v(" "),t("p",[a._v("就能够看到我们的图形化信息了")]),a._v(" "),t("p",[t("img",{attrs:{src:s(612),alt:"image-20200913190444467"}})]),a._v(" "),t("p",[a._v("通过上图我们发现，使用 prometheus的图形化界面好像不太美观，所以就引出了下面的  "),t("a",{attrs:{href:"https://grafana.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("grafana"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"grafana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grafana"}},[a._v("#")]),a._v(" grafana")]),a._v(" "),t("p",[a._v("grafana是采用go语言编写的，非常美观的图形化展示，我们找到"),t("a",{attrs:{href:"https://grafana.com/grafana/download?platform=windows",target:"_blank",rel:"noopener noreferrer"}},[a._v("官网下载"),t("OutboundLink")],1),a._v("，选择window环境")]),a._v(" "),t("p",[t("img",{attrs:{src:s(613),alt:"image-20200913190726155"}})]),a._v(" "),t("p",[a._v("解压后的目录，如下所示")]),a._v(" "),t("p",[t("img",{attrs:{src:s(614),alt:"image-20200913190824928"}})]),a._v(" "),t("p",[a._v("我们进入bin目录，找到 grafana-server.exe 然后启动 【首次启动比较慢，需要建立数据库】，启动成功后，访问下面的地址")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("http://127.0.0.1:3000\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("即可进入到grafana的图形化页面了")]),a._v(" "),t("p",[t("img",{attrs:{src:s(615),alt:"image-20200913191017753"}})]),a._v(" "),t("p",[a._v("然后输入admin  admin 登录即可")]),a._v(" "),t("p",[t("img",{attrs:{src:s(616),alt:"image-20200913191249800"}})]),a._v(" "),t("p",[a._v("然后选择普罗米修斯")]),a._v(" "),t("p",[t("img",{attrs:{src:s(617),alt:"image-20200913191312189"}})]),a._v(" "),t("p",[a._v("然后输入url保存")]),a._v(" "),t("p",[t("img",{attrs:{src:s(618),alt:"image-20200913191338347"}})]),a._v(" "),t("p",[a._v("然后导入我们的普罗米修斯的仪表盘")]),a._v(" "),t("p",[t("img",{attrs:{src:s(619),alt:"image-20200913191444113"}})]),a._v(" "),t("p",[a._v("然后到Home目录下，选择 new board")]),a._v(" "),t("p",[t("img",{attrs:{src:s(620),alt:"image-20200913191803694"}})]),a._v(" "),t("p",[a._v("选择刚刚的import 的 仪表信息")]),a._v(" "),t("p",[t("img",{attrs:{src:s(621),alt:"image-20200913191822529"}})]),a._v(" "),t("p",[a._v("这样就生成了我们的仪表信息了")]),a._v(" "),t("p",[t("img",{attrs:{src:s(622),alt:"image-20200913191854680"}})]),a._v(" "),t("p",[a._v("或者可以选择另外一个样式")]),a._v(" "),t("p",[t("img",{attrs:{src:s(623),alt:"image-20200913192017515"}})]),a._v(" "),t("h2",{attrs:{id:"结语"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[a._v("#")]),a._v(" 结语")]),a._v(" "),t("p",[a._v("如果我们要监控其它的一些服务，比如redis、mysql、Memcache等等，需要自己到官网下载对应的包")]),a._v(" "),t("p",[a._v("https://prometheus.io/download/")]),a._v(" "),t("p",[t("img",{attrs:{src:s(624),alt:"image-20200913192232698"}})])])}),[],!1,null,null,null);t.default=r.exports},607:function(a,t,s){a.exports=s.p+"assets/img/image-20200913185216706.f33fb03e.png"},608:function(a,t,s){a.exports=s.p+"assets/img/image-20200913190154123.98d43db4.png"},609:function(a,t,s){a.exports=s.p+"assets/img/image-20200913190213569.5985c6db.png"},610:function(a,t,s){a.exports=s.p+"assets/img/image-20200913190307310.1abda53d.png"},611:function(a,t,s){a.exports=s.p+"assets/img/image-20200913190408222.b74daf3c.png"},612:function(a,t,s){a.exports=s.p+"assets/img/image-20200913190444467.04b1a2f6.png"},613:function(a,t,s){a.exports=s.p+"assets/img/image-20200913190726155.46935a21.png"},614:function(a,t,s){a.exports=s.p+"assets/img/image-20200913190824928.7040c6d7.png"},615:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191017753.3ce589a0.png"},616:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191249800.e48d7997.png"},617:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191312189.7e4a1bc9.png"},618:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191338347.ad8877d0.png"},619:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191444113.c7650470.png"},620:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191803694.9f9d86ca.png"},621:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191822529.213d743c.png"},622:function(a,t,s){a.exports=s.p+"assets/img/image-20200913191854680.3771c201.png"},623:function(a,t,s){a.exports=s.p+"assets/img/image-20200913192017515.9a4a7f4e.png"},624:function(a,t,s){a.exports=s.p+"assets/img/image-20200913192232698.33b36cc0.png"}}]);